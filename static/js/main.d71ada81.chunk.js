(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{19:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(15),l=a.n(r),s=(a(24),a(25),a(18)),i=a(8),o=a(7),m=a(5);a(26);var u=function(e){return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("form",{className:" col-11 col-sm-10 col-md-7 col-lg-5 mb-3 needs-validation",onSubmit:function(t){t.preventDefault();var a=document.querySelector(".needs-validation"),c=a.elements.city.value;c.trim()?(e.newCity(c),a.classList.remove("was-validated")):a.classList.add("was-validated")},action:"",noValidate:!0},n.a.createElement("div",{className:"input-group-lg"},n.a.createElement("input",{type:"text",name:"city",className:"form-control",placeholder:"Search...",id:"search",required:!0}),n.a.createElement("div",{className:"invalid-feedback"},"Please fill out this field."))))};var d=function(e){var t=e.errorMsg.trim(),a="".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return n.a.createElement("div",{className:"error text-center"},a)};var v=function(e){var t={name:"limit",val:[3,5,7]};function a(t){t.target.parentNode.classList.toggle("active"),e.changeLimit(1*t.target.value)}var c=t.val.map((function(c,r){return n.a.createElement("label",{key:r,className:"custom-control-label custom-control-inline ".concat(e.limits===c?"active":"")},n.a.createElement("input",{type:"radio",className:"custom-control-input",checked:e.limits===c,id:"".concat(t.name).concat(c),name:t.name,value:c,onChange:a}),n.a.createElement("span",{className:""},c))}));return n.a.createElement("div",{className:"col limit mb-4 text-center"},n.a.createElement("span",{className:"mr-3"},"For:"),c,n.a.createElement("span",{className:"ml-1"},"days"))};var E=function(e){return e.city?n.a.createElement("div",{className:"row justify-content-center flex-column"},n.a.createElement("div",{className:"col city mb-3 text-center"},e.city,", ",e.country)):n.a.createElement(n.a.Fragment,null)};var f=function(e){return n.a.createElement("div",{className:"date text-center"},e.children?"".concat(e.children," "):"",e.date)},p=function(e){var t=new Date(1e3*e);return"".concat(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],", ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getDate())},g=function(e){return new Date(1e3*e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};var h=function(e){return n.a.createElement("div",{className:e.addClass?"icon ".concat(e.addClass):"icon"},n.a.createElement("img",{className:"img",alt:"icon",src:"http://openweathermap.org/img/w/".concat(e.icon,".png")}))};var N=function(e){var t=e.forecast.list.slice(0,e.limit).map((function(e,t){var a=e.weather[0];return n.a.createElement("li",{key:t,className:"col-10 col-sm-6 col-md-4 col-lg-3"},n.a.createElement(o.b,{className:"result d-block text-decoration-none",to:"/details/".concat(t)},n.a.createElement(f,{date:p(e.dt)}),n.a.createElement("div",{className:"weather d-flex justify-content-around align-items-center"},n.a.createElement(h,{icon:a.icon}),n.a.createElement("div",{className:"temp"},Math.round(e.temp.day),"\xb0C")),n.a.createElement("div",{className:"description text-center"},a.description),n.a.createElement("div",{className:"show-details text-center mt-2"},"Show details \xbb")))}));return t&&t.length?n.a.createElement(n.a.Fragment,null,n.a.createElement(E,{city:e.forecast.city.name,country:e.forecast.city.country}),n.a.createElement(v,{limits:e.limit,changeLimit:e.changeLimit}),n.a.createElement("ul",{className:"row results list-unstyled justify-content-center m-0"},t)):n.a.createElement(n.a.Fragment,null)};var y=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(u,{newCity:e.newCity}),e.appState.errorMsg?n.a.createElement(d,{errorMsg:e.appState.errorMsg}):e.appState.load?n.a.createElement(N,{forecast:e.forecast,limit:e.limit,changeLimit:e.changeLimit}):n.a.createElement("div",{className:"text-center"},"Loading..."))};var b=function(e){var t,a=Object(m.f)().id,c=(t=e.forecast.list?e.forecast:JSON.parse(localStorage.getItem("forecast"))).list[a],r=c.weather[0];return n.a.createElement("div",{className:"details-container"},n.a.createElement(E,{city:t.city.name,country:t.city.country}),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"details col-11 col-sm-10 col-md-8 col-lg-6"},n.a.createElement(f,{date:p(c.dt)},g(c.dt)),n.a.createElement("div",{className:"weather row justify-content-around align-items-center text-center text-sm-left"},n.a.createElement(h,{icon:r.icon,addClass:"col-6 col-sm-4"}),n.a.createElement("div",{className:"temp col-6 col-sm-4"},n.a.createElement("div",{className:"temp-val"},Math.round(c.temp.day),"\xb0C"),n.a.createElement("div",null,r.description)),n.a.createElement("div",{className:"temp-feels col col-sm-4"},n.a.createElement("div",{className:"row justify-content-center justify-content-sm-start"},n.a.createElement("div",{className:"col-auto col-sm-12 mb-2 mb-sm-0"},"Feels like: ",Math.round(c.feels_like.day),"\xb0C"),n.a.createElement("div",{className:"col-auto col-sm-12 mb-2 mb-sm-0"},"Pressure: ",c.pressure," hPa"),n.a.createElement("div",{className:"col-auto col-sm-12 mb-2 mb-sm-0"},"Humidity: ",c.humidity," %")))),n.a.createElement("div",{className:"row text-center mt-3"},n.a.createElement("div",{className:"col-6 col-sm-3 mb-2"},n.a.createElement("div",null,"Min. temp"),n.a.createElement("div",null,Math.round(c.temp.min),"\xb0C")),n.a.createElement("div",{className:"col-6 col-sm-3 mb-2"},n.a.createElement("div",null,"Max. temp"),n.a.createElement("div",null,Math.round(c.temp.max),"\xb0C")),n.a.createElement("div",{className:"col-6 col-sm-3 mb-2"},n.a.createElement("div",null,"Sunrise"),n.a.createElement("div",null,g(c.sunrise))),n.a.createElement("div",{className:"col-6 col-sm-3 mb-2"},n.a.createElement("div",null,"Sunset"),n.a.createElement("div",null,g(c.sunset)))),n.a.createElement("div",{className:"row justify-content-end"},n.a.createElement(o.b,{className:"col-auto",to:"/"},"\xab Back to results")))))};var w=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(c.useState)({errorMsg:"",load:!1}),u=Object(i.a)(l,2),d=u[0],v=u[1],E=Object(c.useState)(""),f=Object(i.a)(E,2),p=f[0],g=f[1],h=Object(c.useState)(0),N=Object(i.a)(h,2),w=N[0],S=N[1],j=Object(c.useState)(3),M=Object(i.a)(j,2),O=M[0],x=M[1];return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("limit"));e&&x(e);var t=JSON.parse(localStorage.getItem("forecast")),a=t&&t.city.name?t.city.name:"Krakow";g(a)}),[]),Object(c.useEffect)((function(){p&&(v({errorMsg:"",load:!1}),fetch("".concat("https://api.openweathermap.org/data/2.5/forecast/daily?cnt=7&units=metric&APPID=0867a13b59c398d1edd05d49f440e4f0&q=").concat(p)).then((function(e){return e.json()})).then((function(e){if("200"===e.cod){r(Object(s.a)({},e)),v({errorMsg:"",load:!0});var t=e.list[0];S(t.temp.day),localStorage.setItem("forecast",JSON.stringify(e))}else v({errorMsg:e.message,load:!0})})).catch((function(e){v({errorMsg:e.message,load:!0})})))}),[p]),n.a.createElement("div",{className:w>20?"App summer":"App"},n.a.createElement("div",{className:"container position-relative pb-4 pt-4"},n.a.createElement("h1",{className:"h3 title text-center pb-4"},"Weather Forcast"),n.a.createElement(o.a,null,n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/details/:id"},n.a.createElement(b,{forecast:a})),n.a.createElement(m.a,{path:"/"},n.a.createElement(y,{appState:d,forecast:a,newCity:function(e){g(e)},limit:O,changeLimit:function(e){x(e),localStorage.setItem("limit",e)}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.d71ada81.chunk.js.map